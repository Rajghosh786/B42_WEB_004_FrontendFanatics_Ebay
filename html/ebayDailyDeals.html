<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/ebayDailyDeals.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<!--  Main navbar  -->
<nav class="navbar-t">
    <button class="menu-toggle"><i class="fa-solid fa-bars"></i></button>
    <div class="left">
        <!-- Auth Links will be dynamically updated here -->
        <p id="auth-links">Hi! <a href="login.html">Sign in</a> or <a href="signup.html">register</a></p>
        <p><a href="ebayDailyDeals.html">Daily Deals</a></p>
        <p><a href="brandoutlet.html">Brand Outlet</a></p>
        <p><a href="giftcard.html">Gift Cards</a></p>
        <p><a href="help&contact.html">Help & Support</a></p>
    </div>
    <ul class="menu">
        <li><a href="sell.html">Sell</a></li>
        <li><a href="whishlist.html">Wishlist</a> <i class="fa-solid fa-angle-down"></i></li>
        <li><a href="cart.html">My eBay</a> <i class="fa-solid fa-angle-down"></i></li>
        <a href="#"><i class="fa-regular fa-bell"></i></a>
        <a href="#"><i class="fa-solid fa-cart-shopping"></i></a>
    </ul>
  </nav>
  
      <nav class="navbar-b">
          <img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/EBay_logo.svg" alt="eBay Logo" class="logo">
          <div class="category-dropdown">
              <p class="category-btn">Shop by Category <i class="fa-solid fa-angle-down"></i> </p>
              <div class="dropdown-content">
                  <div class="column">
                      <h4>Motors</h4>
                      <p>Parts & Accessories</p>
                      <p>Cars & Trucks</p>
                      <p>Motorcycles</p>
                      <p>Other Vehicles</p>
                  </div>
                  <div class="column">
                      <h4>Electronics</h4>
                      <p>Computers, Tablets & Network Hardware</p>
                      <p>Cell Phones, Smart Watches & Accessories</p>
                      <p>Video Games & Consoles</p>
                      <p>Cameras & Photo</p>
                  </div>
                  <div class="column">
                      <h4>Collectibles & Art</h4>
                      <p>Trading Cards</p>
                      <p>Collectibles</p>
                      <p>Coins & Paper Money</p>
                      <p>Sports Memorabilia</p>
                  </div>
                  <div class="column">
                      <h4>Home & Garden</h4>
                      <p>Yard, Garden & Outdoor Living Items</p>
                      <p>Tools & Workshop Equipment</p>
                      <p>Home Improvement</p>
                      <p>Kitchen, Dining & Bar Supplies</p>
                  </div>
              </div>
          </div>
          <div class="search-container">
              <i class="fa-solid fa-magnifying-glass"></i><input type="text" placeholder="Search for anything" class="search-input">
              <select class="category-dropdown">
                  <option>All Categories</option>
                  <option>Electronics</option>
                  <option>Fashion</option>
                  <option>Home & Garden</option>
                  <option>Jewellery</option>
                  <option>Men's Wear</option>
                  <option>Women's Wear</option>
              </select>
              
          </div>
          <button class="search-button">Search</button>
          <a href="#" class="advanced-search">Advanced</a>
      </nav> <hr>
  
  <!--   main nav bar end -->
    <div id="deals">
     <h2 style="grid-row:1;">Deals</h2>
    <a style="grid-column: 5;" href="Feature">Featured</a>
    <a style="grid-column: 6;" href="Tech">Tech</a>  
    <a style="grid-column: 7;" href="Fashion">Fashion</a>
    <a style="grid-column: 8;" href="Home">Home</a>
    <a style="grid-column: 9;" href="More">More</a>
    </div>



   
    <div id="box1">SPOTLIGHT DEAL</div>
    <div id="box2">
        <img id="img1" src="https://i.ebayimg.com/images/g/47AAAOSwTE9kIbkR/s-l1600.webp">
        <p>Microsoft Xbox Series S US $289.99 3% OFF</p>
    </div>
   



        <div id="box1">FEATURE DEALS</div>
        <div id="box3">
           <div>
            
            <img id="img2" src="https://i.ebayimg.com/images/g/D7UAAOSwIBxm4zO6/s-l225.jpg">
            <p style="text-align:center;">Google Pixel 8 Pro 128GB Factory<br> Unlocked - Excellent<br>
                <b> US $349.99</b></p>
            </div>

           <div>
           <img id="img2" src="https://i.ebayimg.com/images/g/VJUAAOSwwWZl2PI8/s-l225.jpg">
           <p  style="text-align:center;"> Apple iPhone 15 128GB <br>( Unlocked) US E-Sim Version. Excellent<br>
           <b> US $524.99 </b></p>

           </div>
           <div>3
            <img id="img2" src="https://i.ebayimg.com/images/g/oBoAAOSw0HxnKSCQ/s-l225.jpg">
            <p  style="text-align:center;"> Samsung Galaxy Z Fold4 512GB F936U <br>Unlocked - Good<br>
               <b> US $414.99</b></p>
           </div>
           <div>4
            <img id="img2" src="https://i.ebayimg.com/images/g/~z8AAOSwVZxkNGTt/s-l225.jpg">
            <p  style="text-align:center;"> Apple iPhone 13 128GB <br> Unlocked - Excellent<br>
                <b>US $322.99</b></p>
           </div>

           <div>5
            <img id="img2" src="https://i.ebayimg.com/images/g/EFIAAOSwVwZnIQpe/s-l225.jpg">
            <p  style="text-align:center;">Samsung Galaxy S22 Ultra 128GB S908U <br> Unlocked - Very Good<br>
               <b> US $359.99 </b></p>
           </div>
           <div>6
            <img id="img2" src="https://i.ebayimg.com/images/g/0gAAAOSwG4hmmUAN/s-l225.jpg">
            <p  style="text-align:center;"> REDTIGER 4K Dash Cam Front and Rear Dual Dash Camera<br> WIFI&GPS With 32GB SD Card<br>
               <b> US $69.99</b>
            </p>
           </div>
           <div>7
            <img id="img2" src="https://i.ebayimg.com/images/g/HDsAAOSwdi9nN1xp/s-l225.jpg">
            <p  style="text-align:center;">PUMA Men's ST MILER Sneakers<br>
                <b>US $38.99</b></p>
           </div>
           <div>8
            <img id="img2" src="https://i.ebayimg.com/images/g/oBoAAOSwGRtnQPJl/s-l225.jpg">
            <p  style="text-align:center;">Sony WH-CH720N Noise Canceling<br> Wireless Headphones<br>
              <b>  US $59.99</b> </p>
           </div>
           <div>9
            <img id="img2" src="https://i.ebayimg.com/images/g/BIgAAOSwbdlmtQ4Y/s-l225.jpg">
            <p  style="text-align:center;">MSI G274QPF 27" WQHD Flat Rapid IPS Gaming Monitor,<br> 170Hz/1ms HDR400<br>
              <b>  US $139.99</b></p>
           </div>

        </div>

     <h3>Home & Garden</h3>   
     <div id="box4">
        <div>1
            <img id="img2" src="https://i.ebayimg.com/images/g/kqsAAOSwLf5niMlV/s-l225.jpg">
            <p>DEWALT DCF900P1R 20V MAX XR 1/2" <br>Impact Wrench Kit (5 Ah) Certified Refurbished
               <br> <b>US $282.99</b></p>
        </div>
        <div>2
         <img id="img3" src="https://i.ebayimg.com/images/g/Xt0AAOSw7t9g-8zy/s-l300.jpg">

        </div>
        <div>3
            <img id="img2" src="https://i.ebayimg.com/images/g/RvwAAOSwZWVnBNZp/s-l225.jpg">  
            <p>10Pks Make 10 GALLONS- Magichem <br>STRONGEST BLEACH - Low as 32¢/gallon 10z<br>
              <b>  US $9.95 </b></p> 
        </div>
        <div>4
            <img id="img2" src="https://i.ebayimg.com/images/g/FowAAOSwiOxni~CQ/s-l225.jpg">
            <p>DeWalt DCN680D1R 20V MAX XR 18 Gauge <br>Cordless Brad Nailer Certified Refurbished
               <br> <b>US $249.99</b></p>

        </div>
        <div>
            <p style="margin-top: 70px; text-align: center;">DEWALT DCS356C1 20V MAX XR Li-Ion<br> Oscillating Multi-Tool Kit (2 Ah) New<br>
                <b>US $178.99</b></p>
        </div>
        <div style="text-align: center;">
            <h3 style="margin-top:60px">Shop all 103</h3>
            <p>Home &Garden</p>
            <p> > </p>
        </div>
         </div>


    <!-- last footer part -->
    <footer class="mt-5 text-sm pt-3 text-center">
        <p>
          Copyright © 1995-2025 eBay Inc. All Rights Reserved.
          <a href="#" class="text-blue-500">Accessibility</a>,
          <a href="#" class="text-blue-500">User Agreement</a>,
          <a href="#" class="text-blue-500">Privacy</a>,
          <a href="#" class="text-blue-500">Payments Terms of Use</a>,
          <a href="#" class="text-blue-500">Cookies</a>,
          <a href="#" class="text-blue-500">CA Privacy Notice</a>,
          <a href="#" class="text-blue-500">Your Privacy Choices</a>, and
          <a href="#" class="text-blue-500">AdChoice</a>.
        </p>
      </footer>



</body>
</html>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
    import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-auth.js";
    import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-database.js";
  
    const firebaseConfig = {
        apiKey: "AIzaSyA-8DveOlIlHvyK813rJbm4q-xTpdtb9n0",
        authDomain: "users-database-e953e.firebaseapp.com",
        databaseURL: "https://users-database-e953e-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "users-database-e953e",
        storageBucket: "users-database-e953e.firebasestorage.app",
        messagingSenderId: "622398829390",
        appId: "1:622398829390:web:930571c5fb5aa985a3641f",
    };
  
    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const authLinksDiv = document.getElementById("auth-links");
  
    const checkLoginState = () => {
        const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true'; // Check if user is logged in
        if (isLoggedIn) {
            const userName = localStorage.getItem('userName');
            authLinksDiv.innerHTML = `
                Hi, ${userName}
                <a href="#" class="logout">Logout</a>
            `;
        } else {
            authLinksDiv.innerHTML = `
                Hi! <a href="login.html">Sign in</a> or 
                <a href="signup.html">register</a>
            `;
        }
    };
  
    window.onload = checkLoginState;
  
    auth.onAuthStateChanged((user) => {
        if (user) {
            const userRef = ref(getDatabase(), "users/" + user.uid);
            get(userRef).then((snapshot) => {
                if (snapshot.exists()) {
                    const userData = snapshot.val();
                    const userFirstName = userData.personal_Firstname; 
                    localStorage.setItem('isLoggedIn', 'true');
                    localStorage.setItem('userName', userFirstName);
                }
            });
        } else {
            localStorage.setItem('isLoggedIn', 'false');
            localStorage.removeItem('userName');
        }
        checkLoginState();
    });
  
    const logoutUser = () => {
        signOut(auth)
            .then(() => {
                localStorage.setItem('isLoggedIn', 'false');
                localStorage.removeItem('userName');
                window.location.href = "login.html"; // Redirect to login
            })
            .catch((error) => {
                console.error("Error logging out:", error);
            });
    };
  
    document.body.addEventListener("click", (event) => {
        if (event.target && event.target.classList.contains("logout")) {
            logoutUser();
        }
    });
  </script>