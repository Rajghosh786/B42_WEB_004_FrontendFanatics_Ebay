<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="m-0 p-0 box-border">
    <header>
      <div class="flex justify-between items-start col-md-2">
        <a href="../index.html">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/EBay_logo.svg/1200px-EBay_logo.svg.png"
            class="img-fluid ml-4"
            width="110"
            alt=""
          />
        </a>
        <div class="header-container-1">
          <a href="../html/feedback.html"
            ><p class="text-gray-800 text-sm">Tell us what you think</p></a
          >
        </div>
      </div>
    </header>

    <!-- Main Container -->
    <div class="w-full sm:w-3/6 md:w-1/2 lg:w-1/3 xl:w-1/4 mx-auto py-10">
      <div class="flex flex-col items-center">
        <!-- Info Banner -->
        <div class="bg-blue-500 mb-4 text-left mx-auto">
          <div class="p-4 pl-8 flex justify-center text-white">
            <i class="fa-solid fa-circle-info m-1.5"></i>
            <p>
              To buy and sell on
              <span class="underline font-bold">www.ebay.com</span> or other
              eBay sites internationally, existing users can login using their
              credentials or new users can register an eBay account on ebay.in.
              Kindly note you can no longer buy or sell on eBay.in
            </p>
          </div>
        </div>

        <!-- Sign In Section -->
        <div class="w-full">
          <h1 class="text-3xl text-center">Sign in to your account</h1>
          <p class="text-center">
            New to eBay?<a href="../html/signup.html" class="underline"
              >Create account</a
            >
          </p>
          <br />
          <form id="login-form">
            <input
              class="bg-gray-100 p-2 border border-black rounded-md w-full mb-4"
              type="text"
              name="loginEmail"
              id="loginEmail"
              placeholder="Email or username"
            />
            <input
              class="bg-gray-100 p-2 border border-black rounded-md w-full mb-4"
              type="password"
              name="loginPassword"
              id="loginPassword"
              placeholder="Password"
            />
            <br />
            <button
              type="submit"
              class="w-full rounded-3xl bg-blue-500 text-white p-3"
            >
              Continue
            </button>
          </form>

        </div>

        <!-- OR line -->
        <div class="w-full text-center my-4">
          <span class="border-t border-gray-500 w-full inline-block">or</span>
        </div>

        <!-- Social Buttons -->
        <div class="w-full">
          <button
            type="button"
            class="mb-3 flex justify-between items-center py-3 px-6 rounded-3xl border border-black text-center font-bold w-full"
          >
            <i class="fab fa-google fa-2x"></i>
            <span class="flex-grow-1 ml-2">Continue with Google</span>
            <i class="opacity-0 fab fa-google fa-2x"></i>
          </button>

          <button
            type="button"
            class="mb-3 flex justify-between items-center py-3 px-6 rounded-3xl border border-black text-center font-bold w-full"
          >
            <i class="fab fa-facebook-square fa-2x"></i>
            <span class="flex-grow-1 ml-2">Continue with Facebook</span>
            <i class="opacity-0 fab fa-google fa-2x"></i>
          </button>

          <button
            type="button"
            class="mb-3 flex justify-between items-center py-3 px-6 rounded-3xl border border-black text-center font-bold w-full"
          >
            <i class="fab fa-apple fa-2x"></i>
            <span class="flex-grow-1 ml-2">Continue with Apple</span>
            <i class="opacity-0 fab fa-google fa-2x"></i>
          </button>
        </div>

        <!-- Stay Signed In -->
        <div class="flex items-center">
          <input
            type="checkbox"
            id="interested-in-buying"
            class="mr-2 text-black"
          />
          <label for="interested-in-buying">Stay signed in</label>
          <i class="fa-solid fa-circle-info m-1.5"></i>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="mt-5 text-sm pt-3 text-center">
      <p>
        Copyright Â© 1995-2025 eBay Inc. All Rights Reserved.
        <a href="#" class="text-blue-500">Accessibility</a>,
        <a href="#" class="text-blue-500">User Agreement</a>,
        <a href="#" class="text-blue-500">Privacy</a>,
        <a href="#" class="text-blue-500">Payments Terms of Use</a>,
        <a href="#" class="text-blue-500">Cookies</a>,
        <a href="#" class="text-blue-500">CA Privacy Notice</a>,
        <a href="#" class="text-blue-500">Your Privacy Choices</a>, and
        <a href="#" class="text-blue-500">AdChoice</a>.
      </p>
    </footer>
    <br /><br />
  </body>
</html>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
  import {getAuth,signInWithEmailAndPassword} from "https://www.gstatic.com/firebasejs/11.2.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyA-8DveOlIlHvyK813rJbm4q-xTpdtb9n0",
    authDomain: "users-database-e953e.firebaseapp.com",
    databaseURL: "https://users-database-e953e-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "users-database-e953e",
    storageBucket: "users-database-e953e.firebasestorage.app",
    messagingSenderId: "622398829390",
    appId: "1:622398829390:web:930571c5fb5aa985a3641f"
  };

  const app = initializeApp(firebaseConfig);
  // console.log("Firebase initialized"); 
  const auth = getAuth(app);


  document.querySelector("#login-form").addEventListener("submit", async (e) => {
  e.preventDefault(); 
  const email = document.querySelector("#loginEmail").value;
  const password = document.querySelector("#loginPassword").value;

  try {
    //sign in
    const userCredential = await signInWithEmailAndPassword(auth, email, password);
    const user = userCredential.user;

    // Successfully
    console.log("Logged in as:", user.email);

    // Redirect to the dashboard
    window.location.href = "../index.html";

  } catch (error) {
    console.error("Error during login: ", error.message);

    if (error.code === 'auth/invalid-credential') {
      alert("Sorry Invalid credentials please try again");
    } else {
      alert("Error logging in. Please try again.");
    }
  }
});

</script>
